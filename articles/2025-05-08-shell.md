---
title: "pico-jxglib ã§ pico ãƒœãƒ¼ãƒ‰ã«ã‚·ã‚§ãƒ«æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹è©±"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["çµ„ã¿è¾¼ã¿", "raspberrypi", "pico", "raspberrypipico", "usb"]
published: false
---
**pico-jxglib** ã¯ã€ãƒ¯ãƒ³ãƒœãƒ¼ãƒ‰ãƒã‚¤ã‚³ãƒ³ Raspberry Pi Pico ã® Pico SDK ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

https://zenn.dev/ypsitau/articles/2025-01-24-jxglib-intro

ä»Šå›ã¯ã€ä»¥å‰ã«ä¸Šã’ãŸè¨˜äº‹[ã€Œpico-jxglib ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ç·¨é›†æ©Ÿèƒ½ã®è©±ã€](https://zenn.dev/ypsitau/articles/2025-04-06-cmdline-editor)ã§ç´¹ä»‹ã—ãŸ Terminal ã®ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã€pico ãƒœãƒ¼ãƒ‰ã«ã‚·ã‚§ãƒ«æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

## 

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’èµ°ã‚‰ã›ã¦ã„ã‚‹é–“ã®ãƒ¬ã‚¸ã‚¹ã‚¿ã‚„ãƒ¡ãƒ¢ãƒªã€ãƒ‡ãƒã‚¤ã‚¹ã®çŠ¶æ…‹ã‚’ãƒ¢ãƒ‹ã‚¿ã—ãŸã‚Šã€å¤‰æ›´ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚


1. `Terminal` ã‚’ç”Ÿæˆã—ã¦ã€`Shell::AttachTerminal()` ã§ shell ã«æ¥ç¶š
1. ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ä¸­ã§ `Tickable::Tick()` ã‚’å®Ÿè¡Œ

Linux ã«ãŠã‘ã‚‹ bashã€Windows ã«ãŠã‘ã‚‹ PowerShell ã®ã‚ˆã†ãª 

```cpp
ShellCmd(name, "comment")
{
}
```

- `Terminal& terminal` ... `Terminal` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€‚
- `int argc` ... å¼•æ•°ã®æ•°
- `char** argv` ... å¼•æ•°æ–‡å­—åˆ—ã€‚`argv[0]` ã¯ã‚³ãƒãƒ³ãƒ‰è‡ªèº«ã®åå‰ãŒæ ¼ç´ã•ã‚Œã¾ã™

ã‚·ãƒªã‚¢ãƒ«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ä½¿ã†

```cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/Serial.h"
#include "jxglib/Shell.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    Serial::Terminal terminal;
    terminal.Initialize();
    Shell::AttachTerminal(terminal);
    //-------------------------------------------------------------------------
    terminal.Println("Shell with Serial Terminal");
    for (;;) Tickable::Tick();
}
```

TFT LCD ST7789 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†

```cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/ST7789.h"
#include "jxglib/USBHost.h"
#include "jxglib/Shell.h"
#include "jxglib/Font/shinonome16.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    USBHost::Initialize();
    USBHost::Keyboard keyboard;
    ::spi_init(spi1, 125 * 1000 * 1000);
    GPIO14.set_function_SPI1_SCK();
    GPIO15.set_function_SPI1_TX();
    ST7789 display(spi1, 240, 320, {RST: GPIO10, DC: GPIO11, CS: GPIO12, BL: GPIO13});
    Display::Terminal terminal;
    terminal.Initialize().AttachDisplay(display.Initialize(Display::Dir::Rotate90))
        .AttachKeyboard(keyboard.SetCapsLockAsCtrl()).SetFont(Font::shinonome16);
    Shell::AttachTerminal(terminal);
    //-------------------------------------------------------------------------
    terminal.Println("Shell with ST7789 TFT LCD");
    for (;;) Tickable::Tick();
}
```

OLED SSD1306 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†

```cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/SSD1306.h"
#include "jxglib/USBHost.h"
#include "jxglib/Shell.h"
#include "jxglib/Font/shinonome12.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    USBHost::Initialize();
    USBHost::Keyboard keyboard;
    ::i2c_init(i2c0, 400 * 1000);
    GPIO4.set_function_I2C0_SDA().pull_up();
    GPIO5.set_function_I2C0_SCL().pull_up();
    SSD1306 display(i2c0, 0x3c);
    Display::Terminal terminal;
    terminal.Initialize().AttachDisplay(display.Initialize())
        .AttachKeyboard(keyboard.SetCapsLockAsCtrl()).SetFont(Font::shinonome12);
    Shell::AttachTerminal(terminal);
    //-------------------------------------------------------------------------
    terminal.Println("Shell with SSD1306");
    for (;;) Tickable::Tick();
}
```
