---
title: "pico-jxglib ã§ pico ãƒœãƒ¼ãƒ‰ã«ã‚·ã‚§ãƒ«ã‚’å®Ÿè£…ã™ã‚‹è©±"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["çµ„ã¿è¾¼ã¿", "raspberrypi", "pico", "raspberrypipico", "usb"]
published: true
---
**pico-jxglib** ã¯ã€ãƒ¯ãƒ³ãƒœãƒ¼ãƒ‰ãƒã‚¤ã‚³ãƒ³ Raspberry Pi Pico ã® Pico SDK ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

https://zenn.dev/ypsitau/articles/2025-01-24-jxglib-intro

ä»Šå›ã¯ã€ä»¥å‰ã«ä¸Šã’ãŸè¨˜äº‹[ã€Œpico-jxglib ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ç·¨é›†æ©Ÿèƒ½ã®è©±ã€](https://zenn.dev/ypsitau/articles/2025-04-06-cmdline-editor)ã§ç´¹ä»‹ã—ãŸ Terminal ã®ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã€pico ãƒœãƒ¼ãƒ‰ã«ã‚·ã‚§ãƒ«æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

## ã‚·ã‚§ãƒ«æ©Ÿèƒ½ã«ã¤ã„ã¦

çµ„è¾¼ã¿ãƒœãƒ¼ãƒ‰ã®é–‹ç™ºã§ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰ç·¨é›†ãƒ»ãƒœãƒ¼ãƒ‰æ›¸ãè¾¼ã¿ãƒ»å®Ÿè¡Œã¨ã„ã†ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¶šã‘ã‚‹ã®ã§ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æŒ™å‹•ã‚’å¤‰ãˆãŸã„å ´åˆã¯ã‚³ãƒ¼ãƒ‰ã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹ã®ãŒä¸€ç•ªã¦ã£ã¨ã‚Šæ—©ã„æ–¹æ³•ã§ã™ã€‚ã§ã‚‚ã€å¤‰æ›´ã™ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãªã©ãŒå¤šããªã£ãŸã‚Šã€çµæœã‚’è¦‹ã¦å°‘ã—ãšã¤æŒ™å‹•ã‚’å¤‰æ›´ã—ãŸã„å ´åˆãªã©ã¯ã€ã“ã®æ‰‹é †ãŒç…©ã‚ã—ããªã£ã¦ãã¾ã™ã€‚ãã†ã„ã£ãŸå ´åˆã€ãƒœãƒ¼ãƒ‰è‡ªèº«ãŒã‚³ãƒãƒ³ãƒ‰ã‚’å—ã‘ä»˜ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ãªã‚·ã‚§ãƒ«ãŒèµ°ã£ã¦ã„ã‚‹ã¨ã€è©¦è¡ŒéŒ¯èª¤ã‚„å®Ÿé¨“ãŒã‚¹ãƒ ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚ç‰¹ã«ã€FatFS ã‚„ LittleFS ãªã©ã‚’ä½¿ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’æ‰±ã†ã‚ˆã†ãªã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã¨ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ç¢ºèªã—ãŸã‚Šã™ã‚‹ã®ã«ã‚·ã‚§ãƒ«ã¯é‡å®ã—ãã†ã§ã™ã€‚

## å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Visual Studio Code ã‚„ Git ãƒ„ãƒ¼ãƒ«ã€Pico SDK ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒæ¸ˆã‚“ã§ã„ãªã„æ–¹ã¯[ã€ŒPico SDK ã“ã¨ã¯ã˜ã‚ã€](https://zenn.dev/ypsitau/articles/2025-01-17-picosdk#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83) ã‚’ã”è¦§ãã ã•ã„ã€‚

**pico-jxglib** ã¯ GitHub ã‹ã‚‰ãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ã™ã‚‹ã“ã¨ã§å…¥æ‰‹ã§ãã¾ã™ã€‚

```bash
git clone https://github.com/ypsitau/pico-jxglib.git
cd pico-jxglib
git submodule update --init
```

:::message
**pico-jxglib** ã¯ã»ã¼æ¯æ—¥æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚ã™ã§ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã¦ã„ã‚‹å ´åˆã¯ã€`pico-jxglib` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦æœ€æ–°ã®ã‚‚ã®ã«ã—ã¦ãã ã•ã„ã€‚

```bash
git pull
```

:::

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

VSCode ã®ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰ `>Raspberry Pi Pico: New Pico Project` ã‚’å®Ÿè¡Œã—ã€ä»¥ä¸‹ã®å†…å®¹ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚Pico SDK ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã®è©³ç´°ã‚„ã€ãƒ“ãƒ«ãƒ‰ã€ãƒœãƒ¼ãƒ‰ã¸ã®æ›¸ãè¾¼ã¿æ–¹æ³•ã«ã¤ã„ã¦ã¯[ã€ŒPico SDK ã“ã¨ã¯ã˜ã‚ã€](https://zenn.dev/ypsitau/articles/2025-01-17-picosdk#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E7%B7%A8%E9%9B%86) ã‚’å‚ç…§ãã ã•ã„ã€‚

- **Name** ... ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ä»Šå›ã¯ä¾‹ã¨ã—ã¦ `shell-test` ã‚’å…¥åŠ›ã—ã¾ã™
- **Board type** ... ãƒœãƒ¼ãƒ‰ç¨®åˆ¥ã‚’é¸æŠã—ã¾ã™
- **Location** ... ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã‚‹ä¸€ã¤ä¸Šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é¸æŠã—ã¾ã™
- **Stdio support** .. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ä½¿ã†å ´åˆã€Stdio ã«æ¥ç¶šã™ã‚‹ãƒãƒ¼ãƒˆ (UART ã¾ãŸã¯ USB) ã‚’é¸æŠã—ã¾ã™ã€‚ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†å ´åˆã¯ USB ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã—ã¦ãã ã•ã„ã€‚
- **Code generation options** ... **`Generate C++ code` ã«ãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã¾ã™**

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ `pico-jxglib` ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ç½®ãŒä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã¨æƒ³å®šã—ã¾ã™ã€‚

```text
+-[pico-jxglib]
+-[shell-test]
  +-CMakeLists.txt
  +-shell-test.cpp
  +- ...
```


ä»¥ä¸‹ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚‚ã¨ã« `CMakeLists.txt` ã‚„ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

### ã‚·ã‚§ãƒ«ã®çµ„è¾¼ã¿

ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸­ã«ã‚·ã‚§ãƒ«ã‚’çµ„ã¿è¾¼ã‚€ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

1. ã‚·ã‚§ãƒ«ã§ä½¿ç”¨ã™ã‚‹ `Terminal` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ (`Serial::Terminal` ã¾ãŸã¯ `Display::Terminal`) ã‚’ç”Ÿæˆã—ã¦åˆæœŸåŒ–
1. é–¢æ•° `Shell::AttachTerminal()` ã§ `Terminal` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚·ã‚§ãƒ«ã«æ¥ç¶š
1. ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—ä¸­ã§ `Tickable::Tick()` ã‚’å®Ÿè¡Œ

`Terminal` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆæ–¹æ³•ã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ä½•ã‚’ä½¿ã†ã‹ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ä»¥ä¸‹ã«å…·ä½“ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ä½¿ã†

Stdio ãŒ UART ã¾ãŸã¯ USB ã§ PC ã«ã¤ãªãŒã£ã¦ã„ã‚‹ç’°å¢ƒã§ä½¿ç”¨ã§ãã¾ã™ã€‚

`CMakeLists.txt` ã®æœ€å¾Œã«ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚

```cmake
target_link_libraries(shell-test jxglib_Serial jxglib_Shell jxglib_ShellCmd_Basic)
add_subdirectory(${CMAKE_CURRENT_LIST_DIR}/../pico-jxglib pico-jxglib)
```

ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚

```cpp:shell-test.cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/Serial.h"
#include "jxglib/Shell.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    Serial::Terminal terminal;
    terminal.Initialize();
    Shell::AttachTerminal(terminal);
    terminal.Println("Shell with Serial Terminal");
    //-------------------------------------------------------------------------
    for (;;) {
        // any jobs
        Tickable::Tick();
    }
}
```

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« TFT LCD ST7789 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†

Pico ãƒœãƒ¼ãƒ‰ã« TFT LCD ST7789 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¥ç¶šã—ãŸç’°å¢ƒã§ä½¿ç”¨ã§ãã¾ã™ã€‚

ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã®é…ç·šã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

![circuit-usbhost-st7789.png](/images/2025-05-08-shell/circuit-usbhost-st7789.png)

`CMakeLists.txt` ã®æœ€å¾Œã«ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚ã¾ãŸã€Stdio ã® USB æ¥ç¶šãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ (`pico_enable_stdio_usb(shell-test 0)`) ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```cmake
target_link_libraries(shell-test jxglib_USBHost jxglib_ST7789 jxglib_Shell jxglib_ShellCmd_Basic)
add_subdirectory(${CMAKE_CURRENT_LIST_DIR}/../pico-jxglib pico-jxglib)
jxglib_configure_USBHost(shell-test CFG_TUH_HID 3)
```

ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚

```cpp:shell-test.cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/ST7789.h"
#include "jxglib/USBHost.h"
#include "jxglib/Shell.h"
#include "jxglib/Font/shinonome16.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    USBHost::Initialize();
    USBHost::Keyboard keyboard;
    ::spi_init(spi1, 125 * 1000 * 1000);
    GPIO14.set_function_SPI1_SCK();
    GPIO15.set_function_SPI1_TX();
    ST7789 display(spi1, 240, 320, {RST: GPIO10, DC: GPIO11, CS: GPIO12, BL: GPIO13});
    Display::Terminal terminal;
    terminal.Initialize().AttachDisplay(display.Initialize(Display::Dir::Rotate90))
        .AttachKeyboard(keyboard.SetCapsLockAsCtrl()).SetFont(Font::shinonome16);
    Shell::AttachTerminal(terminal);
    terminal.Println("Shell with ST7789 TFT LCD");
    //-------------------------------------------------------------------------
    for (;;) {
        // any jobs
        Tickable::Tick();
    }
}
```

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã« OLED SSD1306 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†

Pico ãƒœãƒ¼ãƒ‰ã« OLED SSD1306 ã¨ USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’æ¥ç¶šã—ãŸç’°å¢ƒã§ä½¿ç”¨ã§ãã¾ã™ã€‚

ãƒ–ãƒ¬ãƒƒãƒ‰ãƒœãƒ¼ãƒ‰ã®é…ç·šã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

![circuit-usbhost-ssd1306.png](/images/2025-05-08-shell/circuit-usbhost-ssd1306.png)

`CMakeLists.txt` ã®æœ€å¾Œã«ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚ã¾ãŸã€Stdio ã® USB æ¥ç¶šãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ (`pico_enable_stdio_usb(shell-test 0)`) ã‚’ç¢ºèªã—ã¦ãã ã•ã„

```cmake
target_link_libraries(shell-test jxglib_USBHost jxglib_SSD1306 jxglib_Shell jxglib_ShellCmd_Basic)
add_subdirectory(${CMAKE_CURRENT_LIST_DIR}/../pico-jxglib pico-jxglib)
jxglib_configure_USBHost(shell-test CFG_TUH_HID 3)
```

ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã—ã¾ã™ã€‚

```cpp:shell-test.cpp
#include <stdio.h>
#include "pico/stdlib.h"
#include "jxglib/SSD1306.h"
#include "jxglib/USBHost.h"
#include "jxglib/Shell.h"
#include "jxglib/Font/shinonome12.h"

using namespace jxglib;

int main()
{
    ::stdio_init_all();
    //-------------------------------------------------------------------------
    USBHost::Initialize();
    USBHost::Keyboard keyboard;
    ::i2c_init(i2c0, 400 * 1000);
    GPIO4.set_function_I2C0_SDA().pull_up();
    GPIO5.set_function_I2C0_SCL().pull_up();
    SSD1306 display(i2c0, 0x3c);
    Display::Terminal terminal;
    terminal.Initialize().AttachDisplay(display.Initialize())
        .AttachKeyboard(keyboard.SetCapsLockAsCtrl()).SetFont(Font::shinonome12);
    Shell::AttachTerminal(terminal);
    terminal.Println("Shell with SSD1306");
    //-------------------------------------------------------------------------
    for (;;) {
        // any jobs
        Tickable::Tick();
    }
}
```

### ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ

ãƒ©ã‚¤ãƒ–ãƒ©ãƒª `jxglib_ShellCmd_Basic` ã‚’ãƒªãƒ³ã‚¯ã™ã‚‹ã¨ã€åŸºæœ¬çš„ãªã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

#### `help` ã‚³ãƒãƒ³ãƒ‰

åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã®ä¸€è¦§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
>help
about-me        prints information about this own program
about-platform  prints information about the platform
d               prints memory content at the specified address
help            prints help strings for available commands
prompt          changes the command line prompt
ticks           prints names and attributes of running Tickable instances
```

#### `about-platform` ã‚³ãƒãƒ³ãƒ‰

Pico ãƒœãƒ¼ãƒ‰ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
>about-platform
RP2350 (ARM) 150 MHz
Flash  0x10000000 - 0x10400000  4194304 bytes
SRAM   0x20000000 - 0x20082000   532480 bytes
```

#### `about-me` ã‚³ãƒãƒ³ãƒ‰

ç¾åœ¨å®Ÿè¡Œã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
shell-test ver.0.1
Flash  0x10000000 - 0x10008488    33928 bytes
Vector 0x20000000 - 0x20000110      272 bytes
Data   0x20000110 - 0x20000BF0     2784 bytes
Bss    0x20000BF0 - 0x200013B4     1988 bytes
Heap   0x200013B4 - 0x20080000   519244 bytes
Stack  0x20080000 - 0x20082000     8192 bytes
```

#### `d` ã‚³ãƒãƒ³ãƒ‰

ãƒ¡ãƒ¢ãƒªã®ãƒ€ãƒ³ãƒ—ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚å¼•æ•°ãªã—ã§å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ‰ãƒ¬ã‚¹ 0x00000000 ã‹ã‚‰ã®ãƒ¡ãƒ¢ãƒªå†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
>d
00000000  00 1F 04 20 EB 00 00 00 35 00 00 00 31 00 00 00
00000010  4D 75 01 03 7A 00 C4 00 1D 00 00 00 00 23 02 88
00000020  9A 42 03 D0 43 88 04 30 91 42 F7 D1 18 1C 70 47
00000030  30 BF FD E7 F4 46 00 F0 05 F8 A7 48 00 21 01 60
```

ç¶šã‘ã¦å¼•æ•°ãªã—ã§å®Ÿè¡Œã™ã‚‹ã¨å‰å›ã®ç¶šãã®ãƒ¡ãƒ¢ãƒªå†…å®¹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

```text
>d
00000040  41 60 E7 46 A5 48 00 21 C9 43 01 60 41 60 70 47
00000050  CA 9B 0D 5B F9 1D 00 00 28 43 29 20 32 30 32 30
00000060  20 52 61 73 70 62 65 72 72 79 20 50 69 20 54 72
00000070  61 64 69 6E 67 20 4C 74 64 00 50 33 09 03 52 33
```

ç¬¬ä¸€å¼•æ•°ã¯å…ˆé ­ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ç¬¬äºŒå¼•æ•°ã¯è¡¨ç¤ºãƒã‚¤ãƒˆæ•°ã§ã™ã€‚16 é€²æ•°ã‚’æŒ‡å®šã™ã‚‹ã¨ãã¯å…ˆé ­ã« `0x` ã‚’ã¤ã‘ã¾ã™ã€‚

```text
>d 0x10000000
10000000  00 B5 32 4B 21 20 58 60 98 68 02 21 88 43 98 60
10000010  D8 60 18 61 58 61 2E 4B 00 21 99 60 02 21 59 61
10000020  01 21 F0 22 99 50 2B 49 19 60 01 21 99 60 35 20
10000030  00 F0 44 F8 02 22 90 42 14 D0 06 21 19 66 00 F0
```

```text
>d 0x10000000 256
10000000  00 B5 32 4B 21 20 58 60 98 68 02 21 88 43 98 60
10000010  D8 60 18 61 58 61 2E 4B 00 21 99 60 02 21 59 61
10000020  01 21 F0 22 99 50 2B 49 19 60 01 21 99 60 35 20
10000030  00 F0 44 F8 02 22 90 42 14 D0 06 21 19 66 00 F0
10000040  34 F8 19 6E 01 21 19 66 00 20 18 66 1A 66 00 F0
10000050  2C F8 19 6E 19 6E 19 6E 05 20 00 F0 2F F8 01 21
10000060  08 42 F9 D1 00 21 99 60 1B 49 19 60 00 21 59 60
10000070  1A 49 1B 48 01 60 01 21 99 60 EB 21 19 66 A0 21
10000080  19 66 00 F0 12 F8 00 21 99 60 16 49 14 48 01 60
10000090  01 21 99 60 01 BC 00 28 00 D0 00 47 12 48 13 49
100000A0  08 60 03 C8 80 F3 08 88 08 47 03 B5 99 6A 04 20
100000B0  01 42 FB D0 01 20 01 42 F8 D1 03 BD 02 B5 18 66
100000C0  18 66 FF F7 F2 FF 18 6E 18 6E 02 BD 00 00 02 40
100000D0  00 00 00 18 00 00 07 00 00 03 5F 00 21 22 00 00
100000E0  F4 00 00 18 22 20 00 A0 00 01 00 10 08 ED 00 E0
100000F0  00 00 00 00 00 00 00 00 00 00 00 00 74 B2 4E 7A
```

### ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã®ä½œæˆ

ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã«ã¯ `ShellCmd` ãƒã‚¯ãƒ­ã‚’ä½¿ã„ã¾ã™ã€‚ãƒã‚¯ãƒ­ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

```cpp
ShellCmd(name, "comment")
{
    // any code
    return 0;
}
```

ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ã¯ä»¥ä¸‹ã®å¤‰æ•°ãŒæ¸¡ã•ã‚Œã¾ã™ã€‚

- `Terminal& terminal` ... `Terminal` ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€‚
- `int argc` ... å¼•æ•°ã®æ•°
- `char** argv` ... å¼•æ•°æ–‡å­—åˆ—ã€‚`argv[0]` ã¯ã‚³ãƒãƒ³ãƒ‰è‡ªèº«ã®åå‰ãŒæ ¼ç´ã•ã‚Œã¾ã™

æˆ»ã‚Šå€¤ã¯ã€ã‚¨ãƒ©ãƒ¼ãŒãªã„å ´åˆ `0`ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ `1` ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚

ã‚³ãƒãƒ³ãƒ‰ã‚’ç™»éŒ²ã™ã‚‹æ‰‹é †ãªã©ã¯**å¿…è¦ã‚ã‚Šã¾ã›ã‚“**ã€‚`ShellCmd` ãƒã‚¯ãƒ­ã§ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ã‚·ã‚§ãƒ«ã«ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ã“ã®ä»•çµ„ã¿ã«ã‚ˆã‚Šã€ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè£…ã—ãŸã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¡ã‚¤ãƒ³ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãƒªãƒ³ã‚¯ã™ã‚‹ã ã‘ã§ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã¯ã€æ¸¡ã•ã‚ŒãŸå¼•æ•°ã®å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸Šè¨˜ã® `shell-test.cpp` ä¸­ã«è¿½åŠ ã™ã‚‹ã‹ã€ç‹¬ç«‹ã—ãŸã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã—ã¦ `add_executable()` ãªã©ã«ãã®ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã¨ã€ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```cpp
ShellCmd(argtest, "tests command line arguments")
{
    for (int i = 0; i < argc; i++) {
        terminal.Printf("argv[%d] \"%s\"\n", i, argv[i]);
    }
    return 0;
}
```
