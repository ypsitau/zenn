---
title: "pico-jxglib で Pico ボードに RTC を接続してファイルシステムにタイムスタンプを記録する話"
emoji: "🙌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["組み込み", "raspberrypi", "pico", "raspberrypipico", "rtc"]
published: false
---
**pico-jxglib** は、ワンボードマイコン Raspberry Pi Pico の Pico SDK プログラミングをサポートするライブラリです。

https://zenn.dev/ypsitau/articles/2025-01-24-jxglib-intro

今回は、Pico ボードに RTC モジュールを接続して、ファイルシステムにタイムスタンプを記録する方法を紹介します。

## RTC モジュールについて

RTC（Real-Time Clock）は、リアルタイムの日時を保持するためのハードウェアです。初代 Pico (RP2040) にはチップ内に RTC が内蔵されていて、「お、これで外付けハードウェアなしに日時情報を得られるぞ」とちょっと色めきだつのですが、残念ながら電源を切ると日時情報が失われてしまうので、あまり実用的ではありません。何にせよ、後継の Pico2 (RP2350) ではこのモジュールが取り除かれてしまったので、実使用の候補にはならないでしょう。

RTC を使う現実解としては、Pico ボードにバックアップ電池を装備した RTC モジュールを接続することで、電源が切れても日時情報を保持できるようになります。

電子工作でよく使われている RTC モジュールというと I2C で接続ができる DS3231 がよく挙げられます。DS1307 という廉価版もありますが、一日に数秒もずれるらしいので、わずかな価格差で高精度な DS3231 を使うのが良いでしょう。

僕が Amazon で購入した DS3231 モジュールは、以下のようなものです。

![rtc-ds3231](/images/2025-06-22-rtc/rtc-ds3231.jpg)

バックアップ電池が初めから装備されていますし、コンパクトな形状をしているのが良い感じです。基板に印刷されている信号名が分かりづらいのですが、`+` = `VCC`、`D` = `SDA`、`C` = `SCL`、`-` = `GND` となっています。

今回の記事では、この DS3231 モジュールを使って RTC を実装します。DS1307 も I2C アドレスやデータフォーマットなどが共通しているので、同じように使うことができると思います。


